!function(){"use strict";var e={960:function(e,t,r){e.exports=r.p+"df100efc54d4645073d7.jpg"},656:function(e,t,r){e.exports=r.p+"8edfe6cd78e39aafc871.jpg"},822:function(e,t,r){e.exports=r.p+"44e6fede87f55e5327cc.jpg"},328:function(e,t,r){e.exports=r.p+"e463b225f0897d749d63.jpg"},994:function(e,t,r){e.exports=r.p+"70aac30a40409c4dbc71.jpg"},339:function(e,t,r){e.exports=r.p+"2e37fd0c260a298af732.jpg"}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.m=e,r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.b=document.baseURI||self.location.href,function(){const e=[{name:"Yosemite Valley",link:new URL(r(339),r.b)},{name:"Lake Louise",link:new URL(r(822),r.b)},{name:"Bald Mountains",link:new URL(r(960),r.b)},{name:"Latemar",link:new URL(r(328),r.b)},{name:"Vanoise National Park",link:new URL(r(994),r.b)},{name:"Lago di Braies",link:new URL(r(656),r.b)}],t={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__form-button",inactiveButtonClass:"modal__form-button_disabled",inputErrorClass:"modal__form-input_type_error",errorClass:"modal__error_visible"};class i{constructor(e){this._popupElement=document.querySelector(e),this._exitButtonElement=this._popupElement.querySelector(".modal__exit-button"),this._handleEscClose=this._handleEscClose.bind(this)}openModal(){this._popupElement.classList.add("modal__opened"),document.addEventListener("keyup",this._handleEscClose)}closeModal(){this._popupElement.classList.remove("modal__opened"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",this._handleOutsideClose.bind(this)),this._exitButtonElement.addEventListener("click",this.closeModal.bind(this))}_handleEscClose(e){"Escape"==e.key&&this.closeModal()}_handleOutsideClose(e){e.target.classList.contains("modal")&&this.closeModal()}}class n extends i{constructor(e,t){var r,i,n;super(e),r=this,n=e=>{e.preventDefault(),this._handleFormSubmit(this.getInputValues())},(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="_handleSubmit"))in r?Object.defineProperty(r,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[i]=n,this._handleFormSubmit=t,this._modalForm=this._popupElement.querySelector(".modal__form"),this._modalFormInputs=this._popupElement.querySelectorAll(".modal__form-input"),this._modalFormButton=this._popupElement.querySelector(".modal__form-button")}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",this._handleSubmit)}getInputValues(){const e={};return this._modalFormInputs.forEach((t=>e[t.name]=t.value)),e}closeModal(){super.closeModal(),this._modalForm.reset()}}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{constructor(e,t){let{data:r,handleCardClick:i}=e;s(this,"_handleHeartIcon",(()=>{this._cardHeartButton.classList.toggle("card__heart-button-active")})),s(this,"_handleDeleteCard",(()=>{this._deleteCardModal.openModal(),this._deleteCardModal._handleFormSubmit=()=>{this._handleDeleteConfirm(this._cardElement)}})),s(this,"_handlePreviewPicture",(()=>{this._handleCardClick.openModal({link:this._link,name:this._name})})),this._name=r.name,this._link=r.link,this._cardSelector=t,this._handleCardClick=i,this._cardTemplate=document.querySelector(this._cardSelector).content.firstElementChild,this._deleteCardModal=new n("#confirmation",this._handleDeleteConfirm.bind(this)),this._deleteCardModal.setEventListeners()}_handleDeleteConfirm(e){e.remove(),this._deleteCardModal.closeModal()}_setEventListeners(){this._cardHeartButton.addEventListener("click",this._handleHeartIcon),this._cardDeleteButton.addEventListener("click",this._handleDeleteCard),this._cardImage.addEventListener("click",this._handlePreviewPicture)}getView(){return this._cardElement=this._cardTemplate.cloneNode(!0),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardHeartButton=this._cardElement.querySelector(".card__heart-button"),this._cardDeleteButton=this._cardElement.querySelector(".card__delete-button"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._cardElement}}class l{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.remove(this._inputErrorClass),t.textContent=" ",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const a=new class extends i{constructor(e){super(e),this._cardPreviewImage=this._popupElement.querySelector(".modal__preview-image"),this._cardPreviewTitle=this._popupElement.querySelector(".modal__preview-title")}openModal(e){let{link:t,name:r}=e;this._cardPreviewImage.src=t,this._cardPreviewImage.alt=r,this._cardPreviewTitle.textContent=r,super.openModal()}}("#image-preview");function d(e){return new o({data:e,handleCardClick:a},"#card-template").getView()}a.setEventListeners();const c=new class{constructor(e,t){let{items:r,renderer:i}=e;this._items=r,this._renderer=i,this._container=document.querySelector(t)}renderItems(){this._items.forEach(this._renderer)}addItems(e){this._container.prepend(e)}}({items:e,renderer:e=>{const t=d(e);c.addItems(t)}},".cards__list");c.renderItems();const u=document.querySelector(".profile__edit-button"),_=document.querySelector(".profile__add-button"),m=document.querySelector("#editProfileForm"),h=document.querySelector("#profileName"),p=document.querySelector("#profileDescription"),f=new class{constructor(e,t){this._profileNameElement=document.querySelector(e),this._profileDescriptionElement=document.querySelector(t)}setProfileInfo(e,t){this._profileNameElement.textContent=e,this._profileDescriptionElement.textContent=t}getProfileInfo(){return{name:this._profileNameElement.textContent,description:this._profileDescriptionElement.textContent}}}(".profile__title",".profile__description"),v=new l(t,m);v.enableValidation();const E=new n("#profileEdit",(()=>{const e=E.getInputValues(),t=e.name,r=e.description;f.setProfileInfo(t,r),E.closeModal()}));E.setEventListeners(),u.addEventListener("click",(()=>{!function(){const{name:e,description:t}=f.getProfileInfo();h.value=e,p.value=t}(),E.openModal(),v.toggleButtonState()}));const b=new l(t,document.querySelector("#addCardForm"));b.enableValidation();const y=new n("#addCard",(()=>{const e=d(y.getInputValues());c.addItems(e),y.closeModal()}));y.setEventListeners(),_.addEventListener("click",(()=>{y.openModal(),b.toggleButtonState()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UXJCLE1BQU1nQyxFQUFtQixJQUFJdEcsRUxJYixnQktKbUQsS0FDakUsTUFBTVksRUFBYzBGLEVBQWlCaEcsaUJBRS9CdEMsRUFBTzRDLEVBQVk1QyxLQUNuQm1JLEVBQWN2RixFQUFZdUYsWUFFaENOLEVBQVNLLGVBQWVsSSxFQUFNbUksR0FFOUJHLEVBQWlCL0csWUFBWSxJQUcvQitHLEVBQWlCNUcsb0JBRWpCOEYsRUFBa0JsRyxpQkFBaUIsU0FBUyxNQW5CNUMsV0FDRSxNQUFNLEtBQUV0QixFQUFJLFlBQUVtSSxHQUFnQk4sRUFBU08saUJBQ3ZDVCxFQUFzQjVFLE1BQVEvQyxFQUM5QjRILEVBQTZCN0UsTUFBUW9GLENBQ3ZDLENBZ0JFSSxHQUNBRCxFQUFpQm5ILFlBQ2pCa0gsRUFBcUJsQyxtQkFBbUIsSUFJMUMsTUFFTXFDLEVBQXVCLElBQUkxRCxFQUFjM0UsRUFGMUJULFNBQVNxQixjQUFjLGlCQUc1Q3lILEVBQXFCbEMsbUJBRXJCLE1BQU1tQyxFQUFlLElBQUl6RyxFTHBCVCxZS29CK0MsS0FDN0QsTUFFTXVGLEVBQU9iLEVBRkkrQixFQUFhbkcsa0JBRzlCc0UsRUFBWVEsU0FBU0csR0FFckJrQixFQUFhbEgsWUFBWSxJQUczQmtILEVBQWEvRyxvQkFFYitGLEVBQVVuRyxpQkFBaUIsU0FBUyxLQUNsQ21ILEVBQWF0SCxZQUNicUgsRUFBcUJyQyxtQkFBbUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS1wcm9qZWN0LTgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ByYWN0aWN1bS1wcm9qZWN0LTgvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9wcmFjdGljdW0tcHJvamVjdC04Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0tcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0tcHJvamVjdC04Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLXByb2plY3QtOC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiY29uc3QgeW9zZW1pdGVWYWxsZXlJbWFnZSA9IG5ldyBVUkwoXHJcbiAgXCIuLi9pbWFnZXMveW9zZW1pdGUtdmFsbGV5LmpwZ1wiLFxyXG4gIGltcG9ydC5tZXRhLnVybFxyXG4pO1xyXG5jb25zdCBsYWtlTG91aXNlSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2xha2UtbG91aXNlLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBiYWxkTW91bnRhaW5JbWFnZSA9IG5ldyBVUkwoXHJcbiAgXCIuLi9pbWFnZXMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgaW1wb3J0Lm1ldGEudXJsXHJcbik7XHJcbmNvbnN0IGxhdGVtYXJJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvbGF0ZW1hci5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuY29uc3QgdmFub2lzZU5hdGlvbmFsUGFya0ltYWdlID0gbmV3IFVSTChcclxuICBcIi4uL2ltYWdlcy92YW5vaXNlLW5hdGlvbmFsLXBhcmsuanBnXCIsXHJcbiAgaW1wb3J0Lm1ldGEudXJsXHJcbik7XHJcbmNvbnN0IGxhZ29EaUJyYWllc0ltYWdlID0gbmV3IFVSTChcclxuICBcIi4uL2ltYWdlcy9sYWdvLWRpLWJyYWllcy5qcGdcIixcclxuICBpbXBvcnQubWV0YS51cmxcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IHlvc2VtaXRlVmFsbGV5SW1hZ2UsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogbGFrZUxvdWlzZUltYWdlLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IGJhbGRNb3VudGFpbkltYWdlLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogbGF0ZW1hckltYWdlLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiB2YW5vaXNlTmF0aW9uYWxQYXJrSW1hZ2UsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogbGFnb0RpQnJhaWVzSW1hZ2UsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0taW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0tYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fZm9ybS1idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Zvcm0taW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgY2FyZFNlY3Rpb246IFwiLmNhcmRzX19saXN0XCIsXHJcbiAgY2FyZFRlbXBsYXRlOiBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgcHJldmlld1BvcHVwOiBcIiNpbWFnZS1wcmV2aWV3XCIsXHJcbiAgcHJvZmlsZU1vZGFsOiBcIiNwcm9maWxlRWRpdFwiLFxyXG4gIGFkZENhcmRNb2RhbDogXCIjYWRkQ2FyZFwiLFxyXG4gIGNvbmZpcm1hdGlvbk1vZGFsOiBcIiNjb25maXJtYXRpb25cIixcclxuICBjaGFuZ2VQcm9maWxlUGljdHVyZU1vZGFsOiBcIiNjaGFuZ2VQcm9maWxlUGljdHVyZVwiLFxyXG4gIHByb2ZpbGVOYW1lOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIHByb2ZpbGVBYm91dDogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhcGlCYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgYXBpUmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgYXV0aG9yaXphdGlvbjogXCIyMzM3NjBiMi04NjViLTQxOGMtYTk4OC0wYTVkYWFhZjc4NDZcIixcclxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2V4aXRCdXR0b25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19leGl0LWJ1dHRvblwiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW5Nb2RhbCgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZU1vZGFsKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9fb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIC8vdGhpcy5fbW9kYWxGb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xvc2UuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2V4aXRCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXkgPT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVPdXRzaWRlQ2xvc2UoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fbW9kYWxGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9tb2RhbEZvcm1JbnB1dHMgPVxyXG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fZm9ybS1pbnB1dFwiKTtcclxuICAgIHRoaXMuX21vZGFsRm9ybUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5tb2RhbF9fZm9ybS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9tb2RhbEZvcm1JbnB1dHMuZm9yRWFjaChcclxuICAgICAgKGlucHV0KSA9PiAoaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSlcclxuICAgICk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG4gIFxyXG5cclxuICBfaGFuZGxlU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VNb2RhbCgpIHtcclxuICAgIHN1cGVyLmNsb3NlTW9kYWwoKTtcclxuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9Qb3B1cFdpdGhGb3JtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUNhcmRDbGljayB9LCBjYXJkU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG5cclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHJcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jYXJkU2VsZWN0b3JcclxuICAgICkuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZDtcclxuXHJcblxyXG4gICAgLy9kZWxldGVjYXJkTW9kYWxcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgICBcIiNjb25maXJtYXRpb25cIixcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ29uZmlybS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICBfaGFuZGxlRGVsZXRlQ29uZmlybSgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZE1vZGFsLmNsb3NlTW9kYWwoKTtcclxuICB9XHJcbiAgKi9cclxuXHJcbiAgX2hhbmRsZURlbGV0ZUNvbmZpcm0oY2FyZEVsZW1lbnQpIHtcclxuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZE1vZGFsLmNsb3NlTW9kYWwoKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vTGlrZSBidXR0b25cclxuICAgIHRoaXMuX2NhcmRIZWFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlSGVhcnRJY29uKTtcclxuXHJcbiAgICAvL2RlbGV0ZSBidXR0b25cclxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQpO1xyXG5cclxuICAgIC8vbW9kYWwgcHJldmlld1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVQcmV2aWV3UGljdHVyZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSGVhcnRJY29uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fY2FyZEhlYXJ0QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19oZWFydC1idXR0b24tYWN0aXZlXCIpO1xyXG4gIH07XHJcblxyXG4gIC8qXHJcbiAgX2hhbmRsZURlbGV0ZUNhcmQgPSAoKSA9PiB7XHJcbiAgICAvL3RoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZE1vZGFsLm9wZW5Nb2RhbCgpO1xyXG4gIH07XHJcbiAgKi9cclxuXHJcbiAgX2hhbmRsZURlbGV0ZUNhcmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkTW9kYWwub3Blbk1vZGFsKCk7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkTW9kYWwuX2hhbmRsZUZvcm1TdWJtaXQgPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNvbmZpcm0odGhpcy5fY2FyZEVsZW1lbnQpO1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlUHJldmlld1BpY3R1cmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sub3Blbk1vZGFsKHsgbGluazogdGhpcy5fbGluaywgbmFtZTogdGhpcy5fbmFtZSB9KTtcclxuICB9O1xyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkSGVhcnRCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19oZWFydC1idXR0b25cIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG5cclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjXCIgKyBpbnB1dEVsZW1lbnQuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNcIiArIGlucHV0RWxlbWVudC5pZCArIFwiLWVycm9yXCJcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIiBcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgc2VsZWN0b3JzLCBzZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG4vL2NvbnN0IGFwaSA9IG5ldyBBcGlcclxuXHJcbmNvbnN0IGNhcmRQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnByZXZpZXdQb3B1cCk7XHJcbmNhcmRQcmV2aWV3UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YTogaXRlbSxcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiBjYXJkUHJldmlld1BvcHVwLFxyXG4gICAgfSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGVcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtcyhjYXJkKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBzZWxlY3RvcnMuY2FyZFNlY3Rpb25cclxuKTtcclxuXHJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Qcm9maWxlIGVsZW1lbnRzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU1vZGFsIFByb2ZpbGUgZWxlbWVudHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmNvbnN0IG1vZGFsUHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXRQcm9maWxlRm9ybVwiKTtcclxuY29uc3QgbW9kYWxQcm9maWxlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlTmFtZVwiKTtcclxuY29uc3QgbW9kYWxQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZURlc2NyaXB0aW9uXCJcclxuKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHNlbGVjdG9ycy5wcm9maWxlTmFtZSwgc2VsZWN0b3JzLnByb2ZpbGVBYm91dCk7XHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIG1vZGFsUHJvZmlsZUZvcm0pO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XHJcbiAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiB9ID0gdXNlckluZm8uZ2V0UHJvZmlsZUluZm8oKTtcclxuICBtb2RhbFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBuYW1lO1xyXG4gIG1vZGFsUHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBkZXNjcmlwdGlvbjtcclxufVxyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wcm9maWxlTW9kYWwsICgpID0+IHtcclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IGVkaXRQcm9maWxlTW9kYWwuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuXHJcbiAgY29uc3QgbmFtZSA9IGlucHV0VmFsdWVzLm5hbWU7XHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBpbnB1dFZhbHVlcy5kZXNjcmlwdGlvbjtcclxuXHJcbiAgdXNlckluZm8uc2V0UHJvZmlsZUluZm8obmFtZSwgZGVzY3JpcHRpb24pO1xyXG5cclxuICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlTW9kYWwoKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZpbGxQcm9maWxlRm9ybSgpO1xyXG4gIGVkaXRQcm9maWxlTW9kYWwub3Blbk1vZGFsKCk7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxufSk7XHJcblxyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU1vZGFsIGFkZENhcmQgZWxlbWVudHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmNvbnN0IG1vZGFsQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkQ2FyZEZvcm1cIik7XHJcblxyXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBtb2RhbEFkZEZvcm0pO1xyXG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBhZGRDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMuYWRkQ2FyZE1vZGFsLCAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZERhdGEgPSBhZGRDYXJkTW9kYWwuZ2V0SW5wdXRWYWx1ZXMoKTtcclxuXHJcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW1zKGNhcmQpO1xyXG5cclxuICBhZGRDYXJkTW9kYWwuY2xvc2VNb2RhbCgpO1xyXG59KTtcclxuXHJcbmFkZENhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZE1vZGFsLm9wZW5Nb2RhbCgpO1xyXG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbn0pO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRQcmV2aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX3ByZXZpZXctaW1hZ2VcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2NhcmRQcmV2aWV3VGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW5Nb2RhbCh7IGxpbmssIG5hbWUgfSkge1xyXG4gICAgdGhpcy5fY2FyZFByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FyZFByZXZpZXdJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fY2FyZFByZXZpZXdUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcblxyXG4gICAgc3VwZXIub3Blbk1vZGFsKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW1zKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IocHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBzZXRQcm9maWxlSW5mbyhuYW1lLCBkZXNjcmlwdGlvbikge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIGdldFByb2ZpbGVJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJvIiwib2JqIiwicHJvcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInAiLCJiIiwiZG9jdW1lbnQiLCJiYXNlVVJJIiwic2VsZiIsImxvY2F0aW9uIiwiaHJlZiIsImluaXRpYWxDYXJkcyIsIm5hbWUiLCJsaW5rIiwiVVJMIiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIlBvcHVwIiwiY29uc3RydWN0b3IiLCJwb3B1cFNlbGVjdG9yIiwidGhpcyIsIl9wb3B1cEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2V4aXRCdXR0b25FbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW5Nb2RhbCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZU1vZGFsIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2hhbmRsZU91dHNpZGVDbG9zZSIsImV2ZW50Iiwia2V5IiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsImdldElucHV0VmFsdWVzIiwiX21vZGFsRm9ybSIsIl9tb2RhbEZvcm1JbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX21vZGFsRm9ybUJ1dHRvbiIsIl9oYW5kbGVTdWJtaXQiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsIl9jYXJkSGVhcnRCdXR0b24iLCJ0b2dnbGUiLCJfZGVsZXRlQ2FyZE1vZGFsIiwiX2hhbmRsZURlbGV0ZUNvbmZpcm0iLCJfY2FyZEVsZW1lbnQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2xpbmsiLCJfbmFtZSIsIl9jYXJkU2VsZWN0b3IiLCJfY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2FyZEVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlSGVhcnRJY29uIiwiX2NhcmREZWxldGVCdXR0b24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlUHJldmlld1BpY3R1cmUiLCJnZXRWaWV3IiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm0iLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2lucHV0RWxzIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImV2ZXJ5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsImUiLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZFByZXZpZXdQb3B1cCIsIl9jYXJkUHJldmlld0ltYWdlIiwiX2NhcmRQcmV2aWV3VGl0bGUiLCJjcmVhdGVDYXJkIiwiaXRlbSIsImNhcmRTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiYWRkSXRlbXMiLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsIm1vZGFsUHJvZmlsZUZvcm0iLCJtb2RhbFByb2ZpbGVOYW1lSW5wdXQiLCJtb2RhbFByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwidXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWVFbGVtZW50IiwiX3Byb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQiLCJzZXRQcm9maWxlSW5mbyIsImRlc2NyaXB0aW9uIiwiZ2V0UHJvZmlsZUluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImVkaXRQcm9maWxlTW9kYWwiLCJmaWxsUHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImFkZENhcmRNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=